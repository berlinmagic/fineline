<% width = @header.width + @header.hpics.count * 40 %>
<style>
#banner_box { width: <%= width %>px; height: <%#= @header.height %>333px;  left:50%; margin-left: -<%= width / 2 %>px; top: 0; position:absolute; border: 0; text-align:center; }

/*************************************************
*
*	project:  	liteAccordion - horizontal accordion plugin for jQuery
*	author:   	Nicola Hibbert
*	url:	  	http://nicolahibbert.com/horizontal-accordion-jquery-plugin
*	demo:	  	http://www.nicolahibbert.com/demo/liteAccordion
*
/*************************************************/
/****************************************** Core */
.accordion { margin-top: 10px; text-align: left; font: 'Helvetica Neue', Verdana, Arial, sans-serif; }
.accordion ol { position: relative; overflow: hidden; height: 100%; margin: 0; padding: 0; list-style-type: none; }
.accordion li > h2 { color: black; font-weight: normal; margin: 0; z-index: 2; position: absolute; top: 0; left: 0; -webkit-transform: translateX(-100%) rotate(-90deg); -webkit-transform-origin: right top; -moz-transform: translateX(-100%) rotate(-90deg); -moz-transform-origin: right top; 
	-o-transform: translateX(-100%) rotate(-90deg); -o-transform-origin: right top; -ms-transform: translateX(-100%) rotate(-90deg); -ms-transform-origin: right top; transform: translateX(-100%) rotate(-90deg); transform-origin: right top; filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3); }
.accordion li > h2 span { display: block; padding-right: 8%; text-align: right; height: 90%; margin-top: 5px; }
.accordion li > h2 b { display: inline-block; position: absolute; top: 10%; top: 42%\9; left: 10%; left: 5%\9; text-align: center; -webkit-transform: rotate(90deg); -moz-transform: rotate(90deg); -o-transform: rotate(90deg); transform: rotate(90deg); filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1); }
.accordion li > h2:hover { cursor: pointer; }
.accordion li > div { height: 100%; position: absolute; top: 0; z-index: 1; overflow: hidden; background: white; }
.accordion noscript p { padding: 10px; margin: 0; background: white; }

/****************************************** Basic */
.basic li > h2 { background: #333; color: white; line-height: 1.8em; }
.basic li > div h3 { margin: 15px 10px; }
.basic li > div p { margin: 10px; font-size: 14px; }

/****************************************** Dark */
.dark { border: 0; padding: 5px 5px 6px 0; background: #030303; -webkit-box-shadow: 0 -1px 0 #5b5b5b inset, 0 5px 15px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0 -1px 0 #5b5b5b inset, 0 5px 15px rgba(0, 0, 0, 0.4); -o-box-shadow: 0 -1px 0 #5b5b5b inset, 0 5px 15px rgba(0, 0, 0, 0.4); 
	box-shadow: 0 -1px 0 #5b5b5b inset, 0 5px 15px rgba(0, 0, 0, 0.4); }
.dark li > h2 { background: #030303; font-size: 16px; line-height: 2.7em; text-shadow: 0 -1px 0 #030303; }
.dark li > h2 span { background: #353535; color: white; }
.dark li > h2 b { background: #353535\9; color: #030303; font-size: 20px; text-shadow: -1px 1px 0 #5b5b5b; }
.dark h2.selected span, .dark h2.selected span:hover { background: #434343; background: -webkit-gradient(linear, left top, right top, color-stop(0, #353535), color-stop(1, #555555)); background: -moz-linear-gradient(top left, #353535 0%, #555555 100%); }
.dark h2.selected b { background: #434343\9; }
.dark li > div { background: #030303; margin-left: 5px; }

/*************************************** Rounded */
.rounded { -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; }
.rounded li > h2 span { -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; }

/***************************************** Light */
/**************************************** Stitch */

</style>
<div id="banner_box">
	<div id="header_accordion" class="accordion">
	    <ol>
	<% @header.header_hpics.each_with_index do |slider,index| %>
		
		<li>
		
			<h2><span><%= slider.hpic.titel %></span></h2>
			
			<div>
		
		<% if slider.cropping %>
			<% if slider.fadeit && slider.extendit %>
				<%= image_tag slider.hpic.bild.encode(:png).process(:side_fade, :size => slider.fade_factor.to_i).process(:blowup).thumb(slider.cropping).thumb("#{@header.width}x#{@header.height}").url %>
			<% elsif slider.extendit %>
				<%= image_tag slider.hpic.bild.encode(:png).process(:blowup).thumb(slider.cropping).thumb("#{@header.width}x#{@header.height}").url %>
			<% elsif slider.fadeit %>
				<%= image_tag slider.hpic.bild.encode(:png).thumb(slider.cropping).process(:side_fade, :size => slider.fade_factor.to_i).thumb("#{@header.width}x#{@header.height}").url  %>
			<% else %>
				<%= image_tag slider.hpic.bild.thumb(slider.cropping).thumb("#{@header.width}x#{@header.height}").url %>
			<% end %>
		<% else %>
			<% if slider.fadeit && slider.extendit %>
				<%= image_tag slider.hpic.bild.encode(:png).process(:side_fade, :size => slider.fade_factor.to_i).process( :blowup).thumb("#{@header.width}x#{@header.height}").url %>
			<% elsif slider.extendit %>
				<%= image_tag slider.hpic.bild.encode(:png).process(:blowup).thumb("#{@header.width}x#{@header.height}").url %>
			<% elsif slider.fadeit %>
				<%= image_tag slider.hpic.bild.encode(:png).process(:side_fade, :size => slider.fade_factor).thumb("#{@header.width}x#{@header.height}").url %>
			<% else %>
				<%= image_tag slider.hpic.bild.thumb("#{@header.width}x#{@header.height}").url %>
			<% end %>
		<% end %>
		
			<figcaption><%= slider.hpic.inhalt %></figcaption>
			
			</div>
		
		</li>
		
		
	<% end %>

		</ol>
	</div>
</div>