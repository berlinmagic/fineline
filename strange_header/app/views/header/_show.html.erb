<% if @seite %>
	<% @header = @seite.header || Header.first %>
<% else %>
	<% @header = Header.first %>
<% end %>
<style type="text/css">
	#banner { height: <%= @header.height %>px; }
	#banner #main_nav_holder { height: <%= @header.height %>px;}
</style>

<% if @header.hpics.count > 1 %>

	<% if @header.stil == 'slider' %>

		<div id="coda-nav-left-1" class="coda-nav-left"><a href="#" title="Slide left">&#171;</a></div>
		<div class="coda-slider-wrapper">
		       <div class="coda-slider preload" id="coda-slider">
				<% @header.header_pics.each do |slider| %>
		       		<div class="panel">
		           		<div class="panel-wrapper">
							<% if slider.bild_cropping %>
								<%= image_tag slider.bild.thumb(slider.bild_cropping).thumb("990x#{@header.height}").url, :alt => 'small_avatar' %>
							<% else %>
								<%= image_tag slider.bild.thumb("990x#{@header.height}").url %>
							<%end%>
		            	</div>
		           </div>
		          <% end %>
		       </div><!-- .coda-slider -->
		</div><!-- .coda-slider-wrapper -->
		<div id="coda-nav-right-1" class="coda-nav-right"><a href="#" title="Slide right">&#187;</a></div>
		<%= content_for :front_js do %>
			<%= theme_javascript_include_tag 'coda_slider' %>
			<script type="text/javascript" charset="utf-8">
				$().ready(function() {
					jQuery('#coda-slider').codaSlider({
					       dynamicArrows: false,
					       dynamicTabs: false
					});
				});
			</script>
		<% end %>
		

	<% elsif @header.stil == 'fader' %>
	
		<div id="banner_box">lade..</div>
		
			<% javatext = '' %>
			<% javatext = '<script type="text/javascript">
			  $(function() {
			    $("#banner_box").crossSlide({
					fade: 3,
					sleep: 3,
					shuffle: true,
					doubleFade: true
			    }, [ // Bilder
			       ' %>
			<% @header.hpics.each do |slider| %>
				<% if slider.bild_cropping %>
					<% javatext +='{ src: "'+slider.bild.thumb(slider.bild_cropping).thumb("#{@header.width}x#{@header.height}").url+'"}, ' %>
				<% else %>
					<% javatext +='{ src: "'+slider.bild.thumb("#{@header.width}x#{@header.height}").url+'"}, ' %>
				<%end%>
				
			<% end %>
			<% javatext +=']); });</script>' %>	
			
			<%= content_for :front_js do %>
				<%= theme_javascript_include_tag 'cross_slide' %>
				<%= raw(javatext) %>
				<style>
				#banner_box { width: <%= @header.width %>px; height: <%= @header.height %>px;  left:50%; margin-left: -<%= @header.width / 2 %>px; top: 0; position:absolute; border: 0; text-align:center; }
				</style>
			<% end %>
	
	<% elsif @header.stil == 's3-slider' %>
		<div id="slider_wrapper">
			<div id="slider">
				<ul id="sliderContent">
					<% @header.hpics.each do |slider| %>
					<li class="sliderImage">
						<% if slider.bild_cropping %>
							<%= image_tag slider.bild.thumb(slider.bild_cropping).thumb("#{@header.width}x#{@header.height}").url, :alt => 'small_avatar' %>
						<% else %>
							<%= image_tag slider.bild.thumb("#{@header.width}x#{@header.height}").url %>
						<%end%>
						
						<span class="<%= cycle('right', 'left') %>">
							<strong><%= slider.name %></strong>
							<br>
							<%= slider.inhalt %></span>
					</li>
					<% end %>
					<div class="clear sliderImage"></div>
				</ul>
			</div>
		</div>
		

			<style type="text/css">
				#slider_wrapper { position: absolute; left:50%; margin-right: -<%= @header.width / 2 %>px; top: 0; width: <%= @header.width %>px; height: <%= @header.height %>px; }
				#slider {
				    width: <%= @header.width %>px; /* important to be same as image width */
				    height: <%= @header.height %>px; /* important to be same as image height */
				    position: relative; /* important */
					top:0; left:0;
					overflow: hidden; /* important */
				}
				#sliderContent { width: <%= @header.width %>px; position: absolute; top: 0; margin-left: 0; }
				.sliderImage { float: left; position: relative; display: none; }
				.sliderImage span { position: absolute; font: 15px Arial, Helvetica, sans-serif; padding: 10px 13px;
				    width: 694px; background-color: #000; filter: alpha(opacity=70); -moz-opacity: 0.7; -khtml-opacity: 0.7;
				    opacity: 0.7; color: #fff; display: none; z-index: 15;}
				.clear { clear: both; }
				.sliderImage span strong { font-size: 14px; }
				#slider_wrapper #slider .left { top: 0; left: 0; width: 200px !important; height: <%= @header.height.to_i - 20 %>px; }
				#slider_wrapper #slider .right { right: 0; bottom: 0; width: 210px !important; height: <%= @header.height.to_i - 10 %>px; }
				#slider ul { list-style-type: none;}
			</style>
		
		<%= content_for :front_js do %>
			<%= theme_javascript_include_tag 's3_slider' %>
			<script type="text/javascript" charset="utf-8">
				$().ready(function() {
					$('#slider').s3Slider({
						timeOut: 4000
					});
				});
			</script>
		<% end %>
		
	<% end %>

<% elsif @header.hpics.count == 1 %>

<div id="banner_pic_holder">
	<% @header.hpics.each do |slider| %>
		<% if slider.bild_cropping %>
			<%= image_tag slider.bild.thumb(slider.bild_cropping).thumb("#{@header.width}x#{@header.height}").url, :alt => 'small_avatar' %>
		<% else %>
			<%= image_tag slider.bild.thumb("#{@header.width}x#{@header.height}").url %>
		<%end%>
	<% end %>
</div>

<style>
#banner_pic_holder { position:absolute; width: <%= @header.width %>px; height: <%= @header.height %>px; left:50%; margin-left: -<%= @header.width / 2 %>px; top: 0; border: 0; text-align:center; display: block; }
</style>
	

<% end %>